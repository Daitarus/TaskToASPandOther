@model Response
@{
    ViewData["Title"] = "FirstExercise";
}

<h2>Задание 1.</h2>
<p>Реализовать приложение C#, которое предоставит функционал сложения каждого второго нечетного числа из массива чисел тела запроса и вернёт их сумму по модулю.</p>

@using (Html.BeginForm())
{
    <div id="arrayBlock">
        <h3>Массив чисел:</h3>       
    </div>

    <p><a class="addLink">Добавить новый элемент</a></p>

    @if (Model != null)
    {
        @if (Model.isError)
        {
            <h3>Произошла ошибка при решении задачи:</h3>
            <p>@Model.ErrorString</p>
        }
        else
        {
            <h3>Ответ на задачу:</h3>
            <p>@Model.ResponseData</p>
        }
    }

    <p><input type="submit" value="Решить задачу" /></p>
}

@section Scripts {
    <script>
        $(function () {
            var i = 0;
            $('.addLink').click(function () {
                var html2Add = "<div class='arrayItem'>" +
                    "<h5>Элемент № " + (i + 1) + "</h5>" +
                    "<input type='text' name='requestItems[" + i + "]' />" +
                    "</div></div></div>";
                $('#arrayBlock').append(html2Add);
                i++;
            })
        })
    </script>
}

